{% extends 'base.html.twig' %}

{% block title %}Posts{% endblock %}

{% block body %}
    <h1>Posts</h1>
    {#<a href={{ path('app_comments_new_post'  , {"id" : post.id}) }} target="modal">Comment</a>#}
    <a href="{{ path('app_comments_new_post', {'id': post.id}) }}" class="nk-btn nk-btn-rounded nk-btn-color-main-1">Comment</a>
    <blockquote class="nk-blockquote"></blockquote>

    <table class="nk-table">
        <tbody>
            <tr>
                <th>Id</th>
                <td>{{ post.id }}</td>
            </tr>
            <tr>
                <th>Resolved</th>
                <td>{{ post.resolved ? 'Yes' : 'No' }}</td>
            </tr>
            <tr>
                <th>Title</th>
                <td>{{ post.title }}</td>
            </tr>
            <tr>
                <th>Content</th>
                <td>{{ post.content }}</td>
            </tr>
            <tr>
                <th>Tags</th>
                <td>{{ post.tags }}</td>
            </tr>
            <tr>
                <th>PostDate</th>
                <td>{{ post.postDate ? post.postDate|date('Y-m-d H:i:s') : '' }}</td>
            </tr>
            <tr>
                <th>Action</th>
                <td><a href="{{ path('app_user_post_likes_dislikes_new', {'user_id': user_id, 'like': 1, 'post_id': post.id}) }}" class="nk-btn nk-btn-outline nk-btn-color-success">Like</a> | <a href="{{ path('app_user_post_likes_dislikes_new', {'user_id': user_id, 'like': 0, 'post_id': post.id}) }}" class="nk-btn nk-btn-rounded nk-btn-outline nk-btn-color-warning">Dislike</a></td>
                {% if stars == 0 %}
                    <td>
                    {% for i in range(1,5) %}
                    ☆
                    {% endfor %}
                    </td>
                {% endif %}
                {% if stars > 0 %}
                    <td>
                    {% for i in range(1, stars) %}
                    ⭐
                    {% endfor %}
                    {% if 5-stars > 0 %}
                        {% for i in range(0, 4-stars) %}
                        ☆
                        {% endfor %}
                    {% endif %}
                    </td>
                {% endif %}
            </tr>
        </tbody>
    </table>

    {#<a href="{{ path('app_posts_index') }}">back to list</a>#}
        <a href="{{ path('app_posts_index') }}" class="nk-btn nk-btn-rounded nk-btn-color-white">back to list</a>


    <a href="{{ path('app_posts_edit', {'id': post.id}) }}" class="nk-btn nk-btn-rounded nk-btn-color-white">edit</a>
    <blockquote class="nk-blockquote"></blockquote>

    {{ include('posts/_delete_form.html.twig') }}
{% endblock %}
